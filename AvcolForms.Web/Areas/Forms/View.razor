@attribute [Authorize]
@inject UserManager<ApplicationUser> _userManager;
@using AvcolForms.Core.Components.Forms;
@inject NavigationManager _navManager;

@if (_firstLoading){
    <PageTitle>Loading Form ...</PageTitle>
    <MudProgressCircular Indeterminate="true"></MudProgressCircular>
}

<PageTitle>Form - @AppForm?.Title ?? "Loading"</PageTitle>

<MudBreadcrumbs Items="@_items"></MudBreadcrumbs>

<MudText>@AppForm?.Title ?? "Loading"</MudText>

@if (AppForm.Content is not null) {
    @foreach (var item in AppForm.Content)
    {
        <FormContentComponent Content="@item"/>
    }
}
else {
    <MudText>Form is empty!</MudText>
}